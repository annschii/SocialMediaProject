<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/deleteUser.css" />
    <title>DELETE USER</title>

</head>
<body>
    <div class="secretTitle">
        <h2 class="title" onclick="window.location.href='../main.html'">secret</h2>
        <h2>secret</h2>
    </div>

    <h1>DELETE USER</h1>
    <form id="deleteUserForm" onsubmit="deleteUser(event)">
        <input class="userInput" type="text" id="deleteUserId" name="deleteUserId" placeholder="User ID" required>
        <!-- <section id="btn"><button class="noselect" type="submit">Delete User</button><div id="circle"></div></section> -->
        <button class="custom-btn btn" type="submit">Delete User</button>
    </form>

<script>
        const baseUrl = 'http://localhost:5000';

        async function deleteUser(event) {
            event.preventDefault();
            const userId = document.getElementById('deleteUserId').value;
            const response = await fetch(`${baseUrl}/users/${userId}`, {
                method: 'DELETE',
            });

            if (response.ok) {
                console.log('User deleted successfully');
                alert('User deleted successfully!');
                getAllUsers(); // Refresh the user list
            } else {
                console.error('Failed to delete user:', response.statusText);
            }
        }


</script>
</body>
</html>