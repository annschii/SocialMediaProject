version: '3'
services:
  # PostgreSQL test database service
  db_test:
    image: postgres:latest
    environment:
      POSTGRES_DB: test_database
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    networks:
      - social_media_app_test
    ports:
      - "5433:5432"  # Map container port 5432 to host port 5433 for testing

  # Python application service for testing
#  web_test:
#    build:
#      context: .
#      dockerfile: Dockerfile.test
#    environment:
#      DATABASE_URL_TEST: postgresql://postgres:postgres@localhost:5433/test_database
#    networks:
#      - social_media_app_test
#    depends_on:
#      - db_test

networks:
  social_media_app_test:
